rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.time < timestamp.date(2025, 1, 1);
    }

    // Rules for the 'group-chat' app

    // match /apps/group-chat/users/{userId} {
    //   allow read: if request.time < timestamp.date(2025, 1, 1);
    //   // Only allow users to write their own document
    //   allow write: if request.auth.uid == userId;
    // }
    // match /apps/group-chat/messages/{messageId} {
    //   // Only allows authenticated user to read and create messages
    //   allow read, create: if request.auth.uid != null; 
    //   // Only allow moderators to delete messages
    //   allow delete: if request.auth.token.isModerator == true; 
    //   // No updates allowed
    //   allow update: if false;
    // }
  }
}